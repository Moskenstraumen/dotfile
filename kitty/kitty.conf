# ============================================================================
# FONTS
# ============================================================================

disable_ligatures always
font_size 14
font_family family="Maple Mono NF CN"
bold_font Maple Mono NF CN Bold
italic_font Maple Mono NF CN Italic
bold_italic_font Maple Mono NF CN Bold Italic
font_features MapleMono-NF-CN-ExtraLight +cv01 +ss02 +ss04 +ss05 +zero
font_features MapleMono-NF-CN-Bold +cv01 +ss02 +ss04 +ss05 +zero
font_features MapleMono-NF-CN-Italic +cv01 +ss02 +ss04 +ss05 +zero
font_features MapleMono-NF-CN-BoldItalic +cv01 +ss02 +ss04 +ss05 +zero

# ============================================================================
# GENERAL
# ============================================================================

# Remote control for clipboard over SSH
allow_remote_control socket-only
listen_on unix:/tmp/kitty-${KITTY_PID}

# Copy on select
copy_on_select clipboard

# ============================================================================
# CURSOR
# ============================================================================

cursor_shape block
cursor_blink_interval 0
cursor_trail 20
cursor_trail_start_threshold 60
cursor_trail_decay 0.0 0.3

# ============================================================================
# WINDOW
# ============================================================================

remember_window_size no
initial_window_width 900
initial_window_height 600
window_padding_width 5
confirm_os_window_close 1

# Hide window decorations
hide_window_decorations titlebar-only

# Visual effects
background_opacity 0.9
background_blur 32

# ============================================================================
# MOUSE & URL
# ============================================================================

mouse_hide_wait 0.5
detect_urls no

# ============================================================================
# BELL
# ============================================================================

enable_audio_bell no
visual_bell_duration 0.1
visual_bell_color #3e4452
window_alert_on_bell yes

# ============================================================================
# SHELL INTEGRATION
# ============================================================================

shell_integration no-cursor

# ============================================================================
# macOS
# ============================================================================

macos_titlebar_color dark
macos_show_window_title_in window

# ============================================================================
# KEY BINDINGS
# ============================================================================

# Enable kitty keyboard protocol for better key handling (distinguishes Ctrl+i from Tab)
# This allows nvim and tmux to properly receive Ctrl+ijkl navigation keys
include mappings.conf

# General
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
map cmd+q quit
map cmd+m minimize_macos_window
map cmd+h hide_macos_app
map cmd+, edit_config_file
map ctrl+cmd+, load_config_file
map cmd+equal change_font_size all +2.0
map cmd+minus change_font_size all -2.0
map cmd+0 change_font_size all 0

# ============================================================================
# LOG HIGHLIGHTING
# ============================================================================

mark1_foreground #74c7ec
mark1_background #1E1E2E
mark2_foreground #F9E2AF
mark2_background #1E1E2E
mark3_foreground #F38BA8
mark3_background #1E1E2E
toggle_marker regex 1 \bINFO\b 2 \bWARNING\b 3 \bERROR\b 3 \bFATAL\b
map ctrl+shift+m toggle_marker regex 1 \bINFO\b 2 \bWARNING\b 3 \bERROR\b 3 \bFATAL\b

# ============================================================================
# THEME
# ============================================================================

# BEGIN_KITTY_THEME
# Catppuccin-Mocha
include current-theme.conf
# END_KITTY_THEME
